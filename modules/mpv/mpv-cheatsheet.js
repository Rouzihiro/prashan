(function(){function e(t,o,s){function i(r,c){if(!o[r]){if(!t[r]){var a="function"==typeof require&&require;if(!c&&a)return a(r,!0);if(n)return n(r,!0);var f=Error("Cannot find module '"+r+"'");throw f.code="MODULE_NOT_FOUND",f}var p=o[r]={exports:{}};t[r][0].call(p.exports,function(e){return i(t[r][1][e]||e)},p,p.exports,e,t,o,s)}return o[r].exports}for(var n="function"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}return e})()({1:[function(e,t,o){function s(){this.scale=4,this.text=""}s.SMART_WRAPPING=0,s.EOL_WRAPPING=1,s.NO_WORD_WRAPPING=2,s.SMART_WRAPPING_WIDER=3,s.BOTTOM_LEFT=1,s.BOTTOM_CENTER=2,s.BOTTOM_RIGHT=3,s.MIDDLE_LEFT=4,s.MIDDLE_CENTER=5,s.MIDDLE_RIGHT=6,s.TOP_LEFT=7,s.TOP_CENTER=8,s.TOP_RIGHT=9,s.escape=function(e){return e.replace(/([{}])/g,"\\$1")},s.bolden=function(e){return"{\\b1}"+e+"{\\b0}"},s.prototype.newEvent=function(){this.text.length>0&&(this.text=this.text+"\n")},s.prototype.override=function(e){this.append("{"),e.call(this),this.append("}")},s.prototype.primaryFillColor=function(e){return this.append("\\1c&H"+e+"&"),this},s.prototype.secondaryFillColor=function(e){return this.append("\\2c&H"+e+"&"),this},s.prototype.borderColor=function(e){return this.append("\\3c&H"+e+"&"),this},s.prototype.shadowColor=function(e){return this.append("\\4c&H"+e+"&"),this},s.prototype.primaryFillAlpha=function(e){return this.append("\\1a&H"+e+"&"),this},s.prototype.secondaryFillAlpha=function(e){return this.append("\\2a&H"+e+"&"),this},s.prototype.borderAlpha=function(e){return this.append("\\3a&H"+e+"&"),this},s.prototype.shadowAlpha=function(e){return this.append("\\4a&H"+e+"&"),this},s.prototype.fontName=function(e){return this.append("\\fn"+e),this},s.prototype.fontSize=function(e){return this.append("\\fs"+e),this},s.prototype.borderSize=function(e){return this.append("\\bord"+e),this},s.prototype.xShadowDistance=function(e){return this.append("\\xshad"+e),this},s.prototype.yShadowDistance=function(e){return this.append("\\yshad"+e),this},s.prototype.letterSpacing=function(e){return this.append("\\fsp"+e),this},s.prototype.wrapStyle=function(e){return this.append("\\q"+e),this},s.prototype.drawStart=function(){this.text=this.text+"{\\p"+this.scale+"}"},s.prototype.drawStop=function(){this.text=this.text+"{\\p0}"},s.prototype.coord=function(e,t){var o=Math.pow(2,this.scale-1);this.text=this.text+" "+Math.ceil(e*o)+" "+Math.ceil(t*o)},s.prototype.append=function(e){this.text=this.text+e},s.prototype.appendLn=function(e){this.append(e+"\\n")},s.prototype.appendLN=function(e){this.append(e+"\\N")},s.prototype.merge=function(e){this.text=this.text+e.text},s.prototype.pos=function(e,t){this.append("\\pos("+e.toFixed(0)+","+t.toFixed(0)+")")},s.prototype.lineAlignment=function(e){this.append("\\an"+e)},s.prototype.moveTo=function(e,t){this.append(" m"),this.coord(e,t)},s.prototype.lineTo=function(e,t){this.append(" l"),this.coord(e,t)},s.prototype.bezierCurve=function(e,t,o,s,i,n){this.append(" b"),this.coord(e,t),this.coord(o,s),this.coord(i,n)},s.prototype.rectCcw=function(e,t,o,s){this.moveTo(e,t),this.lineTo(e,s),this.lineTo(o,s),this.lineTo(o,t)},s.prototype.rectCw=function(e,t,o,s){this.moveTo(e,t),this.lineTo(o,t),this.lineTo(o,s),this.lineTo(e,s)},s.prototype.hexagonCw=function(e,t,o,s,i,n){void 0===n&&(n=i),this.moveTo(e+i,t),e!=o&&this.lineTo(o-n,t),this.lineTo(o,t+n),e!=o&&this.lineTo(o-n,s),this.lineTo(e+i,s),this.lineTo(e,t+i)},s.prototype.hexagonCcw=function(e,t,o,s,i,n){void 0===n&&(n=i),this.moveTo(e+i,t),this.lineTo(e,t+i),this.lineTo(e+i,s),e!=o&&this.lineTo(o-n,s),this.lineTo(o,t+n),e!=o&&this.lineTo(o-n,t)},s.prototype.roundRectCw=function(e,t,o,s,i,n,r){void 0===r&&(r=n);var c=.551915024494*n,a=.551915024494*r;this.moveTo(t+n,o),this.lineTo(s-r,o),r>0&&this.bezierCurve(s-r+a,o,s,o+r-a,s,o+r),this.lineTo(s,i-r),r>0&&this.bezierCurve(s,i-r+a,s-r+a,i,s-r,i),this.lineTo(t+n,i),n>0&&this.bezierCurve(t+n-c,i,t,i-n+c,t,i-n),this.lineTo(t,o+n),n>0&&this.bezierCurve(t,o+n-c,t+n-c,o,t+n,o)},s.prototype.roundRectCcw=function(e,t,o,s,i,n,r){void 0===r&&(r=n);var c=.551915024494*n,a=.551915024494*r;this.moveTo(t+n,o),n>0&&this.bezierCurve(t+n-c,o,t,o+n-c,t,o+n),this.lineTo(t,i-n),n>0&&this.bezierCurve(t,i-n+c,t+n-c,i,t+n,i),this.lineTo(s-r,i),r>0&&this.bezierCurve(s-r+a,i,s,i-r+a,s,i-r),this.lineTo(s,o+r),r>0&&this.bezierCurve(s,o+r-a,s-r+a,o,s-r,o)},t.exports=s},{}],2:[function(e,t,o){var s=e("./assdraw.js"),i=[{category:"Navigation",shortcuts:[{keys:", / .",effect:"Seek by frame"},{keys:"← / →",effect:"Seek by 5 seconds"},{keys:"↓ / ↑",effect:"Seek by 1 minute"},{keys:"[Shift] PGDWN / PGUP",effect:"Seek by 10 minutes"},{keys:"[Shift] ← / →",effect:"Seek by 1 second (exact)"},{keys:"[Shift] ↓ / ↑",effect:"Seek by 5 seconds (exact)"},{keys:"[Ctrl] ← / →",effect:"Seek by subtitle"},{keys:"[Shift] BACKSPACE",effect:"Undo last seek"},{keys:"[Ctrl+Shift] BACKSPACE",effect:"Mark current position"},{keys:"l",effect:"Set/clear A-B loop points"},{keys:"L",effect:"Toggle infinite looping"},{keys:"PGDWN / PGUP",effect:"Previous/next chapter"},{keys:"< / >",effect:"Go backward/forward in the playlist"},{keys:"ENTER",effect:"Go forward in the playlist"},{keys:"F8",effect:"Show playlist [UI]"},]},{category:"Playback",shortcuts:[{keys:"p / SPACE",effect:"Pause/unpause"},{keys:"[ / ]",effect:"Decrease/increase speed [10%]"},{keys:"{ / }",effect:"Halve/double speed"},{keys:"BACKSPACE",effect:"Reset speed"},{keys:"o / P",effect:"Show progress"},{keys:"O",effect:"Toggle progress"},{keys:"i / I",effect:"Show/toggle stats"},]},{category:"Subtitle",shortcuts:[{keys:"[Ctrl+Shift] ← / →",effect:"Adjust subtitle delay [subtitle]"},{keys:"z / Z",effect:"Adjust subtitle delay [0.1sec]"},{keys:"v",effect:"Toggle subtitle visibility"},{keys:"u",effect:"Toggle subtitle style overrides"},{keys:"V",effect:"Toggle subtitle VSFilter aspect compatibility mode"},{keys:"r / R",effect:"Move subtitles up/down"},{keys:"j / J",effect:"Cycle subtitle"},{keys:"F9",effect:"Show audio/subtitle list [UI]"},]},{category:"Audio",shortcuts:[{keys:"m",effect:"Mute sound"},{keys:"#",effect:"Cycle audio track"},{keys:"/ / *",effect:"Decrease/increase volume"},{keys:"9 / 0",effect:"Decrease/increase volume"},{keys:"[Ctrl] - / +",effect:"Decrease/increase audio delay [0.1sec]"},{keys:"F9",effect:"Show audio/subtitle list [UI]"},]},{category:"Video",shortcuts:[{keys:"_",effect:"Cycle video track"},{keys:"A",effect:"Cycle aspect ratio"},{keys:"d",effect:"Toggle deinterlacer"},{keys:"[Ctrl] h",effect:"Toggle hardware video decoding"},{keys:"w / W",effect:"Decrease/increase pan-and-scan range"},{keys:"[Alt] - / +",effect:"Zoom out/in"},{keys:"[Alt] ARROWS",effect:"Move the video rectangle"},{keys:"[Alt] BACKSPACE",effect:"Reset pan/zoom"},{keys:"1 / 2",effect:"Decrease/increase contrast"},{keys:"3 / 4",effect:"Decrease/increase brightness"},{keys:"5 / 6",effect:"Decrease/increase gamma"},{keys:"7 / 8",effect:"Decrease/increase saturation"},]},{category:"Application",shortcuts:[{keys:"q",effect:"Quit"},{keys:"Q",effect:"Save position and quit"},{keys:"s",effect:"Take a screenshot"},{keys:"S",effect:"Take a screenshot without subtitles"},{keys:"[Ctrl] s",effect:"Take a screenshot as rendered"},]},{category:"Window",shortcuts:[{keys:"f",effect:"Toggle fullscreen"},{keys:"[Command] f",effect:"Toggle fullscreen [macOS]"},{keys:"ESC",effect:"Exit fullscreen"},{keys:"T",effect:"Toggle stay-on-top"},{keys:"[Alt] 0",effect:"Resize window to 0.5x [macOS]"},{keys:"[Alt] 1",effect:"Reset window size [macOS]"},{keys:"[Alt] 2",effect:"Resize window to 2x [macOS]"},]},{category:"Multimedia keys",shortcuts:[{keys:"PAUSE",effect:"Pause"},{keys:"STOP",effect:"Quit"},{keys:"PREVIOUS / NEXT",effect:"Seek 1 minute"}]},],n={active:!1,startLine:0,startCategory:0},r={font:"monospace","font-size":8,"usage-font-size":6};function c(e){var t=[];t.push(s.bolden(e.category));var o=0;return e.shortcuts.forEach(function(e){e.keys.length>o&&(o=e.keys.length)}),e.shortcuts.forEach(function(e){var i=function e(t,o){for(var s="",i=0;i<o;i++)s+=" ";return s}(" ",o-e.keys.length);t.push(s.escape(e.keys+i+" "+e.effect))}),t}function a(){if(mp.get_osd_size(),!n.active){mp.set_osd_ass(0,0,"{}");return}var e=new s;e.newEvent(),e.override(function(){this.lineAlignment(s.TOP_LEFT),this.primaryFillAlpha("00"),this.borderAlpha("00"),this.shadowAlpha("99"),this.primaryFillColor("eeeeee"),this.borderColor("111111"),this.shadowColor("000000"),this.fontName(r.font),this.fontSize(r["font-size"]),this.borderSize(1),this.xShadowDistance(0),this.yShadowDistance(1),this.letterSpacing(0),this.wrapStyle(s.EOL_WRAPPING)});var t=[],o=!1;i.forEach(function(e,s){!(s<n.startCategory)&&(o=!0,t.push(""),t.push.apply(t,c(e)))}),t.slice(n.startLine).forEach(function(t){e.appendLN(t)}),e.newEvent();var a=c({category:"usage",shortcuts:h});e.override(function(){this.lineAlignment(s.TOP_RIGHT),this.fontSize(r["usage-font-size"])}),a.forEach(function(t){e.appendLN(t)}),mp.set_osd_ass(0,0,e.text)}function f(e){e!=n.active&&(e?(n.active=!0,p(h,!0)):(n.active=!1,p(h,!1)),a())}function p(e,t){e.forEach(function(e,o){var s="__cheatsheet_binding_"+o;t?mp.add_forced_key_binding(e.keys,s,e.callback,e.options):mp.remove_key_binding(s)})}var h=[{keys:"esc",effect:"close",callback:function(){f(!1)}},{keys:"?",effect:"close",callback:function(){f(!1)}},{keys:"j",effect:"next line",callback:function(){n.startLine+=1,a()},options:"repeatable"},{keys:"k",effect:"prev line",callback:function(){n.startLine=Math.max(0,n.startine-1),a()},options:"repeatable"},{keys:"n",effect:"next category",callback:function(){n.startCategory+=1,n.startLine=0,a()},options:"repeatable"},{keys:"p",effect:"prev category",callback:function(){n.startCategory=Math.max(0,n.startCategory-1),n.startLine=0,a()},options:"repeatable"},];mp.add_key_binding("?","cheatsheet-enable",function(){f(!0)}),mp.observe_property("osd-width","native",a),mp.observe_property("osd-height","native",a)},{"./assdraw.js":1}]},{},[2]);
